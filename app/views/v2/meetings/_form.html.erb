<turbo-frame id="meeting-form" data-controller="imitated-form">
  <%= form_with model: @meeting, url: v2_meetings_path, data: { "turbo-frame" => "_top", "imitated-form-target" => "originalForm" } do |f| %>
    <div style="margin-bottom: 1rem;">
      <div><%= f.label :title %></div>
      <div><%= f.text_field :title %></div>
      <p style="color: red;"><%= @meeting.errors.full_messages_for(:title).join %></p>
    </div>
    <div style="margin-bottom: 1rem;">
      <div>Category</div>
      <%= f.radio_button :category, "real", data: { action: "imitated-form#submit" } %>
      <%= f.label :category, "Real", value: "real" %>

      <%= f.radio_button :category, "online", data: { action: "imitated-form#submit" } %>
      <%= f.label :category, "Online", value: "online" %>

      <%= f.radio_button :category, "hybrid", data: { action: "imitated-form#submit" } %>
      <%= f.label :category, "Hybrid", value: "hybrid" %>
    </div>
    <% if %w[real hybrid].include?(@meeting.category) %>
      <div style="margin-bottom: 1rem;">
        <div><%= f.label :meeting_room %></div>
        <div><%= f.text_field :meeting_room %></div>
      </div>
    <% end %>
    <% if %w[online hybrid].include?(@meeting.category) %>
      <div style="margin-bottom: 1rem;">
        <div><%= f.label :meeting_url %></div>
        <div><%= f.text_field :meeting_url %></div>
      </div>
    <% end %>
    <div>
      <%= f.submit %>
    </div>
  <% end %>
  <%= form_with scope: "imitated_meeting", model: @meeting, url: refresh_new_v2_meeting_path, method: :post, data: { "imitated-form-target" => "imitatedForm" } do |f| %>
    <%= f.hidden_field :title %>
    <%= f.hidden_field :category %>
    <%= f.hidden_field :meeting_room %>
    <%= f.hidden_field :meeting_url %>
  <% end %>
</turbo-frame>
